function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t),i=e(require("@auth0/auth0-spa-js")),r=function(e){try{return Promise.resolve(e.getUser())}catch(e){return Promise.reject(e)}},o=function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},u={name:"",picture:"",updated_at:"",email:"",email_verified:!1,sub:""},c=n.createContext({isAuthenticated:!1,isProcessing:!1,user:u,handleRedirectCallback:function(){},loginWithRedirect:function(e){},getTokenSilently:function(){return Promise.resolve("")},logout:function(){}});exports.AuthContext=c,exports.useAuth=function(){return t.useContext(c)},exports.AuthProvider=function(e){var a=e.children,l=e.onRedirectCallback;void 0===l&&(l=o);var s=e.client_id,d=e.domain,f=e.audience,h=t.useState(!1),m=h[0],v=h[1],P=t.useState(u),g=P[0],w=P[1],p=t.useState(),A=p[0],S=p[1],y=t.useState(!0),k=y[0],C=y[1];return t.useEffect(function(){!function(){try{Promise.resolve(i({domain:d,client_id:s,audience:f})).then(function(e){function t(){return Promise.resolve(e.isAuthenticated()).then(function(t){function n(){C(!1)}v(t);var i=function(){if(t)return Promise.resolve(r(e)).then(function(e){w(e)})}();return i&&i.then?i.then(n):n()})}S(e);var n=function(){if(window.location.search.includes("code="))return Promise.resolve(e.handleRedirectCallback()).then(function(e){l(e.appState)})}();return n&&n.then?n.then(t):t()})}catch(e){return Promise.reject(e)}}()},[]),n.createElement(c.Provider,{value:{isAuthenticated:m,user:g,isProcessing:k,handleRedirectCallback:function(){try{var e=function(){if(A)return C(!0),Promise.resolve(r(A)).then(function(e){C(!1),v(!0),w(e)})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},loginWithRedirect:function(e){if(!A)throw new Error("Auth0 not initialized");A.loginWithRedirect(e)},getTokenSilently:function(){return A?A.getTokenSilently():Promise.reject("Auth0 not initialized")},logout:function(){if(!A)throw new Error("Auth0 not initialized");A.logout({returnTo:""+window.location.origin})}}},a)};
//# sourceMappingURL=index.js.map
